# ========== zsh options ==========
setopt auto_pushd
setopt pushd_ignore_dups
setopt hist_ignore_dups
setopt share_history
setopt inc_append_history
export HISTSIZE=100000
export SAVEHIST=100000

# ========== PATH ==========
export PATH="$HOME/.local/bin:$PATH"

# pnpm
{{ if eq .chezmoi.os "darwin" -}}
export PNPM_HOME="{{ .chezmoi.homeDir }}/Library/pnpm"
{{ else -}}
export PNPM_HOME="{{ .chezmoi.homeDir }}/.local/share/pnpm"
{{ end -}}
case ":$PATH:" in
  *":$PNPM_HOME:"*) ;;
  *) export PATH="$PNPM_HOME:$PATH" ;;
esac

# ========== tools (sync load) ==========
eval "$(direnv hook zsh)"
eval "$(starship init zsh)"

# ========== sheldon (deferred plugins) ==========
eval "$(sheldon source)"
